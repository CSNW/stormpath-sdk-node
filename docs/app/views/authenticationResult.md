## AuthenticationResult

An AuthenticationResult is returned when an [application authenticates an account](application#authenticateAccount) successfully.

**Since**: 0.1.1

---

<a name="getAccount"></a>
### <span class="member">method</span> getAccount(*[options,]* callback)

Retrieves the authentication result's corresponding successfully authenticated [Account](account) and provides it to the specified `callback`.

**Performance Tip:** The application [authenticateAccount](application#authenticateAccount) call will automatically request that the authenticated account be returned with the authentication result.  This means the `result.getAccount` call will not actually send a request to the server: the account will be returned immediately.

#### Usage

```javascript
result.getAccount(function(err, account) {
  console.log(account);
});
```

#### Parameters

<table class="table table-striped table-hover table-curved">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
      <th>Description<th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>_`options`_</td>
      <td>`object`</td>
      <td>_optional_</td>
      <td>Name/value pairs to use as query parameters, for example, for [resource expansion](http://docs.stormpath.com/rest/product-guide/#link-expansion).</td>
    </tr>
    <tr>
      <td>`callback`</td>
      <td>function</td>
      <td>required</td>
      <td>The callback to execute upon resource retrieval. The 1st parameter is an `Error` object.  The 2nd parameter is the retrieved [Account](account) resource.</td>
        </tr>
  </tbody>
</table>

#### Returns

void; the retrieved [Account](account) resource will be provided to the `callback` as the callback's second parameter.

---

<a name="tokenResponse"></a>
### <span class="property">property</span> .tokenResponse <em>Object</em>

Exists if the authentication result was created for an Oauth Access Token request, you should send this value as a `application/json` response to the requestor:

#### Format

````javascript
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGc ...",
  "expires_in": 3600,
  "token_type": "bearer"
}

````

---

<a name="grantedScopes"></a>
### <span class="property">property</span> .grantedScopes <em>Array</em>

Exists if the authentication result was created from a previously issued Oauth Access Token which has granted scopes, it will be an array of strings which are the granted scopes.

#### Format

````javascript
['scope-a','scope-b']
````

---

<a name="idSiteResponse"></a>
### <span class="property">property</span> .idSiteResponse <em>Object</em>

The decoded JSON Web Token from an ID Site callback URL.  This property exists if the authentication result was generated by
[Application.handleIdSiteCallback()](application#handleIdSiteCallback).

#### Format

````javascript
{
  "iss": "https://my-tenant.id.stormpath.io",
  "sub": "https://api.stormpath.com/v1/accounts/58seoBuBOgj0oNfsZ7KwK6",
  "aud": "1V5KV7AGV45KVAHM4DVHO3F51",
  "exp": 1403646441,
  "iat": 1403646381,
  "jti": "7dOGwAWFhljPcvBv4Y3S8s",
  "irt": "6b85be67-519f-46d5-909d-6ee1771888c8",
  "state": "",
  "isNewSub": false
}
````

#### Field Descriptions

| Field | Property |
| ------ | ------- |
| iss | The FQDN of your ID Site |
| sub | The href of the account that was authenticated |
| aud | The Api Key Id of the Stormpath client instance that redirected the user to the ID Site, via a URL that was generated by [Application.createIdSiteUrl()](Application#createIdSiteUrl) |
| exp | Unix-epoch timestamp, the time at which this token will expire |
| iat | Unix-epoch timestamp, the time at which this token was created |
| jti | A unique value for this token |
| irt | The nonce that was created when you sent the user to the ID Site |
| state | The string that you specified with the `state` option when calling [Application.createIdSiteUrl()](Application#createIdSiteUrl)
| isNewSub | `true` if the account was newly created on the ID Site, `false` otherwise
---

